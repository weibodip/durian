SELECT
  sum(a)/(sum(b) - max(c)) as custom, MIN(foo) as min_foo, max(foo) as max_foo
FROM
  myTable
WHERE
  fdate between '2018-12-06 00:00:00' and '2018-12-07 00:00:00'
  AND (foo = 'foo'
  AND bar BETWEEN 1 AND 20
  OR baz < 42 AND quux.abctest IN ('hello', 'goodbye')
  AND quuux NOT IN (42, 69)
  OR c is not null)
GROUP BY
  minutes_1, bar, baz
HAVING min(foo) > 10 and max(df) < 100
order by min(a) desc, max(a) asc
TOP 10
limit 5, 10
option (a = b)